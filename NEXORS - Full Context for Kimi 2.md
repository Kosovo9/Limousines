# NEXORS - Full Context for Kimi 2

## PROJECT OVERVIEW

You are building NEXORS: A global executive transportation platform.
Hybrid model: SaaS ($299-$799/month) + Commission (12-18% per ride) + Premium features.

Timeline: 48 hours for MVP.
Stack: Next.js 15, React 19, Supabase, Cloudflare Workers, PayPal, Mercado Pago, Google Maps.

## USER TYPES

1. **Passenger** (executes rides)
   - Sign up → Book ride → Pay → Track → Rate driver
   - Sees: Landing, Dashboard, Booking flow, Tracking, Payment, History

2. **Driver** (operates vehicles)
   - Sees: Availability toggle, Accepted rides, Navigation, Passenger info, Earnings

3. **Fleet Manager** (manages business)
   - Sees: Dashboard with KPIs, Vehicle list, Driver list, Analytics, Reports

## FEATURES PRIORITY (MVP)

### TIER 1 (Must-have, do first)
1. Landing page (multilingüe, 20 idiomas)
2. Auth (email + OAuth)
3. Booking search (Google Places)
4. Vehicle selection (4 types)
5. Dynamic pricing
6. Payment (PayPal + Mercado Pago)
7. Real-time tracking
8. Chat
9. Rating system
10. Passenger dashboard
11. Fleet dashboard
12. Analytics

### TIER 2 (Nice-to-have, if time allows)
13. Scheduling (events with multiple vehicles)
14. Affiliate program
15. White-label
16. API access
17. Advanced reporting

## TECHNICAL REQUIREMENTS

- TypeScript strict mode
- Functional components only
- Tailwind CSS (no inline styles)
- Responsive (mobile-first)
- Accessible (WCAG 2.1)
- Secure (input validation, rate limiting)
- Tested (70%+ coverage)

## DATABASE

Main tables (generated by Manus):
- users
- companies (fleets)
- vehicles
- drivers
- rides
- payments
- subscriptions
- ratings
- messages
- support_tickets

See `schema.sql` for full schema.

## APIs TO IMPLEMENT

Core endpoints (~40 total):
- Auth: signup, login, logout, reset
- Rides: search estimate, create, get, cancel, complete, rate
- Payments: create order, capture, verify webhook
- Location: update driver location
- Messages: send, get
- Fleet: manage vehicles, drivers, see analytics
- Users: manage profile, payment methods, preferences

## DEPLOYMENT

Frontend: Cloudflare Pages (automatic from GitHub)
Backend: Cloudflare Workers + Supabase
Database: Supabase PostgreSQL
Domain: Cloudflare DNS

## TESTING

Must include:
- Unit tests (Jest) for: calculatePrice, verifyPayment, getETA
- E2E tests (Cypress) for: Book ride, Make payment, Rate, Dashboard
- Error scenarios: Invalid location, Network timeout, Payment failure

## SUCCESS CRITERIA

Day 1:
- Landing loads in < 2s
- Auth works
- Booking to payment works end-to-end
- Real-time tracking works
- Dashboard shows data
- Zero critical bugs
- Mobile responsive
- 20 idiomas functional
- All tests passing
